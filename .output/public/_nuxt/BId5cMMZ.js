import{r as g,h as V,i as $,j as q,u as b,k as E,l as z,s as k,f as M,m as I,q as N,e as D,o as S,c as T,a as y,t as G,v as F,n as H,d as j,x as J}from"./BdRCL4XO.js";import{c as K}from"./Djnie-b_.js";/**
 * @license lucide-vue-next v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q=K("CopyIcon",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);function P(e){return $()?(q(e),!0):!1}function w(e){return typeof e=="function"?e():b(e)}const x=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const U=Object.prototype.toString,X=e=>U.call(e)==="[object Object]",Y=()=>{};function Z(e){let t;function o(){return t||(t=e()),t}return o.reset=async()=>{const s=t;t=void 0,s&&await s},o}function ee(e,t,o={}){const{immediate:s=!0}=o,a=g(!1);let n=null;function u(){n&&(clearTimeout(n),n=null)}function d(){a.value=!1,u()}function f(...c){u(),a.value=!0,n=setTimeout(()=>{a.value=!1,n=null,e(...c)},w(t))}return s&&(a.value=!0,x&&f()),P(d),{isPending:V(a),start:f,stop:d}}const te=x?window:void 0,B=x?window.navigator:void 0;function ne(e){var t;const o=w(e);return(t=o==null?void 0:o.$el)!=null?t:o}function W(...e){let t,o,s,a;if(typeof e[0]=="string"||Array.isArray(e[0])?([o,s,a]=e,t=te):[t,o,s,a]=e,!t)return Y;Array.isArray(o)||(o=[o]),Array.isArray(s)||(s=[s]);const n=[],u=()=>{n.forEach(r=>r()),n.length=0},d=(r,l,v,m)=>(r.addEventListener(l,v,m),()=>r.removeEventListener(l,v,m)),f=z(()=>[ne(t),w(a)],([r,l])=>{if(u(),!r)return;const v=X(l)?{...l}:l;n.push(...o.flatMap(m=>s.map(h=>d(r,m,h,v))))},{immediate:!0,flush:"post"}),c=()=>{f(),u()};return P(c),c}function oe(){const e=g(!1),t=I();return t&&M(()=>{e.value=!0},t),e}function L(e){const t=oe();return E(()=>(t.value,!!e()))}function A(e,t={}){const{controls:o=!1,navigator:s=B}=t,a=L(()=>s&&"permissions"in s),n=k(),u=typeof e=="string"?{name:e}:e,d=k(),f=()=>{var r,l;d.value=(l=(r=n.value)==null?void 0:r.state)!=null?l:"prompt"};W(n,"change",f);const c=Z(async()=>{if(a.value){if(!n.value)try{n.value=await s.permissions.query(u)}catch{n.value=void 0}finally{f()}if(o)return N(n.value)}});return c(),o?{state:d,isSupported:a,query:c}:d}function se(e={}){const{navigator:t=B,read:o=!1,source:s,copiedDuring:a=1500,legacy:n=!1}=e,u=L(()=>t&&"clipboard"in t),d=A("clipboard-read"),f=A("clipboard-write"),c=E(()=>u.value||n),r=g(""),l=g(!1),v=ee(()=>l.value=!1,a);function m(){u.value&&C(d.value)?t.clipboard.readText().then(i=>{r.value=i}):r.value=R()}c.value&&o&&W(["copy","cut"],m);async function h(i=w(s)){c.value&&i!=null&&(u.value&&C(f.value)?await t.clipboard.writeText(i):O(i),r.value=i,l.value=!0,v.start())}function O(i){const p=document.createElement("textarea");p.value=i??"",p.style.position="absolute",p.style.opacity="0",document.body.appendChild(p),p.select(),document.execCommand("copy"),p.remove()}function R(){var i,p,_;return(_=(p=(i=document==null?void 0:document.getSelection)==null?void 0:i.call(document))==null?void 0:p.toString())!=null?_:""}function C(i){return i==="granted"||i==="prompt"}return{isSupported:c,text:r,copied:l,copy:h}}const ae={class:"bg-editor-bg shadow-lg my-5 rounded-md pt-3 px-5 group"},re={class:"flex justify-between items-center"},ie={class:"border-b font-mono text-xs text-center"},le={class:"flex justify-end"},ue={key:1,class:"text-xs opacity-50"},fe=D({__name:"ProsePre",props:{code:{type:String,default:""},filename:{type:String,default:null},class:{type:String,default:null}},setup(e){const{copy:t,copied:o}=se(),s=g(!1);return M(()=>{o&&(s.value=!0,setTimeout(()=>{s.value=!1},3e3))}),(a,n)=>(S(),T("div",null,[y("div",ae,[y("div",re,[y("div",ie,G(e.filename),1),y("div",le,[b(o)?(S(),T("div",ue,"Copied!")):(S(),F(b(Q),{key:0,class:"cursor-pointer opacity-50",size:16,onClick:n[0]||(n[0]=u=>b(t)(e.code))}))])]),y("pre",{class:H(["my-0 font-[500] bg-transparent leading-normal font-mono",a.$props.class])},[n[1]||(n[1]=j("        ")),J(a.$slots,"default"),n[2]||(n[2]=j(`
      `))],2)])]))}});export{fe as default};
